<!DOCTYPE html>
<html lang="lv" dir="ltr">
<head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO Meta Tags -->
    <title>I Ching Pareģošana Online | 易經 Senā Ķīniešu Gudrība | Bezmaksas Heksagrammu Analīze</title>
    <meta name="description" content="Bezmaksas I Ching pareģošana tiešsaistē ar tradicionālajām Yarrow un monētu metodēm. Atklājiet senās ķīniešu gudrības noslēpumus ar 64 heksagrammām. Mobilajām ierīcēm optimizēts.">
    <meta name="keywords" content="I Ching, 易經, heksagrammas, pareģošana, ķīniešu filozofija, yarrow metode, monētu metode, gudrība, meditācija, spiritualitāte">
    <meta name="author" content="I Ching Gudrības Centrs">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Latvian">
    
    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="I Ching Pareģošana Online | 易經 Senā Ķīniešu Gudrība">
    <meta property="og:description" content="Atklājiet senās ķīniešu gudrības noslēpumus ar bezmaksas I Ching pareģošanu. Tradicionālās Yarrow un monētu metodes.">
    <meta property="og:url" content="https://iching-gudriba.lv">
    <meta property="og:site_name" content="I Ching Gudrības Portāls">
    <meta property="og:locale" content="lv_LV">
    <meta property="og:image" content="https://iching-gudriba.lv/images/iching-og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="I Ching heksagrammas un senā ķīniešu gudrība">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="I Ching Pareģošana Online | 易經 Senā Ķīniešu Gudrība">
    <meta name="twitter:description" content="Bezmaksas I Ching pareģošana ar tradicionālajām metodēm. Atklājiet 64 heksagrammu gudrību.">
    <meta name="twitter:image" content="https://iching-gudriba.lv/images/iching-twitter-card.jpg">
    <meta name="twitter:image:alt" content="I Ching heksagrammas">
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    
    <!-- Theme and App Manifest -->
    <meta name="theme-color" content="#1a1a2e">
    <meta name="msapplication-TileColor" content="#1a1a2e">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="I Ching">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="hexagrams.js" as="script">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://iching-gudriba.lv/">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "I Ching Pareģošanas Sistēma",
        "description": "Bezmaksas I Ching pareģošana tiešsaistē ar tradicionālajām Yarrow un monētu metodēm",
        "url": "https://ezo.e-ezoterika.lv/iching/",
        "applicationCategory": "Spirituality",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        },
        "author": {
            "@type": "Organization",
            "name": "I Ching Gudrības Centrs"
        },
        "inLanguage": "lv",
        "keywords": "I Ching, 易經, heksagrammas, pareģošana, ķīniešu filozofija"
    }
    </script>
    
    <!-- CSS Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- DNS Prefetch for Performance -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    
    <!-- Security Headers -->
	<meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' data:;">
    
</head>

<body>
    <!-- Skip to main content (Accessibility) -->
    <a href="#main-content" class="skip-link">Pāriet uz galveno saturu</a>
    
    <!-- Main Application Container -->
    <div class="app-container" id="appContainer">
        
        <!-- Application Header -->
        <header class="app-header" role="banner">
            <div class="header-content">
                <h1 class="main-title">
                    <span class="chinese-title" lang="zh">易經</span>
                    <span class="separator">•</span>
                    <span class="latin-title">I Ching</span>
                </h1>
                <p class="app-subtitle">Senā Ķīniešu Pareģošanas Sistēma</p>
                <div class="header-ornament" aria-hidden="true">⚊ ⚋ ⚊</div>
            </div>
        </header>

        <!-- Progress Navigation -->
        <nav class="progress-navigation" role="navigation" aria-label="Pareģošanas process">
            <div class="progress-container">
                <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="4">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <ol class="progress-steps">
                    <li class="step active" id="step1">
                        <span class="step-number">1</span>
                        <span class="step-label">Metode</span>
                    </li>
                    <li class="step" id="step2">
                        <span class="step-number">2</span>
                        <span class="step-label">Jautājums</span>
                    </li>
                    <li class="step" id="step3">
                        <span class="step-number">3</span>
                        <span class="step-label">Process</span>
                    </li>
                    <li class="step" id="step4">
                        <span class="step-number">4</span>
                        <span class="step-label">Rezultāts</span>
                    </li>
                </ol>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content" class="main-content" role="main">
            
            <!-- Method Selection Page -->
            <section class="page method-selection active" id="methodSelection" aria-labelledby="method-heading">
                <div class="page-container">
                    <header class="page-header">
                        <h2 id="method-heading" class="page-title">Izvēlieties Pareģošanas Metodi</h2>
                        <p class="page-description">
                            Katra metode piedāvā unikālu pieeju senajiem I Ching mācībām. 
                            Izvēlieties to, kas rezonē ar jūsu dvēseli.
                        </p>
                    </header>

                    <div class="methods-grid">
                        <!-- Yarrow Method Card -->
                        <article class="method-card" data-method="yarrow" tabindex="0" role="button" 
                                aria-describedby="yarrow-description" onkeydown="handleCardKeydown(event, 'yarrow')">
                            <div class="method-icon" aria-hidden="true">🌾</div>
                            <h3 class="method-name">Milleņu Stiebru Metode</h3>
                            <p id="yarrow-description" class="method-description">
                                Tradicionālā, meditatīvā pieeja, ko izmantoja senie ķīniešu gudrie. 
                                Sakrāla ceremonija ar dziļu koncentrēšanos uz jūsu jautājumu.
                            </p>
                            <dl class="method-details">
                                <div class="detail-item">
                                    <dt class="detail-label">Laiks</dt>
                                    <dd class="detail-value">5-8 min</dd>
                                </div>
                                <div class="detail-item">
                                    <dt class="detail-label">Atmosfēra</dt>
                                    <dd class="detail-value">Meditatīva</dd>
                                </div>
                                <div class="detail-item">
                                    <dt class="detail-label">Pieredze</dt>
                                    <dd class="detail-value">Sakrāla</dd>
                                </div>
                            </dl>
                        </article>

                        <!-- Coins Method Card -->
                        <article class="method-card" data-method="coins" tabindex="0" role="button" 
                                aria-describedby="coins-description" onkeydown="handleCardKeydown(event, 'coins')">
                            <div class="method-icon" aria-hidden="true">🪙</div>
                            <h3 class="method-name">Monētu Metode</h3>
                            <p id="coins-description" class="method-description">
                                Mūsdienu praktiskā pieeja I Ching gudrībai. 
                                Ātra un ērta metode, kas ļauj iegūt rezultātu jebkurā vietā.
                            </p>
                            <dl class="method-details">
                                <div class="detail-item">
                                    <dt class="detail-label">Laiks</dt>
                                    <dd class="detail-value">2-3 min</dd>
                                </div>
                                <div class="detail-item">
                                    <dt class="detail-label">Atmosfēra</dt>
                                    <dd class="detail-value">Praktiska</dd>
                                </div>
                                <div class="detail-item">
                                    <dt class="detail-label">Pieredze</dt>
                                    <dd class="detail-value">Interaktīva</dd>
                                </div>
                            </dl>
                        </article>
                    </div>
                </div>
            </section>

            <!-- Results Page - Pilna HTML Struktūra -->
<section class="page result-page" id="resultsPage" aria-labelledby="results-heading" style="display: none;">
    <div class="page-container">
        <header class="page-header">
            <h2 id="results-heading" class="page-title">🌟 Jūsu I Ching Rezultāts</h2>
            <p class="page-description">
                Zemāk ir attēlots jūsu jautājuma rezultāts ar heksagrammu, skaidrojumiem un papildus atspoguļojumiem.
            </p>
        </header>
        <!-- Rezultātu dinamiski ieliks JS -->
        <div id="results-main">
            <!-- Šeit JS ieliks rezultātu kartes, heksagrammas, interpretācijas utt. -->
        </div>
        <!-- Tev ir vēl papildu bloki, ja nepieciešams -->
    </div>
</section>

 <!-- Question Page - Pilna HTML Struktūra -->
<section class="page question-page" id="questionPage" aria-labelledby="question-heading">
    <div class="page-container">
        <!-- Page Header -->
        <header class="page-header">
            <h2 id="question-heading" class="page-title">❓ Formulējiet Savu Jautājumu</h2>
            <p class="page-description">
                I Ching sniedz dziļākas atbildes uz pārdomātiem jautājumiem. 
                Veltiet laiku, lai precīzi formulētu to, ko vēlaties zināt.
            </p>
        </header>

        <!-- Method Context Display -->
        <div class="method-context" id="methodContext">
            <div class="selected-method-info">
                <span class="method-label">Izvēlētā metode:</span>
                <span class="method-name" id="selectedMethodDisplay">Monētu metīšana</span>
                <span class="method-icon">🪙</span>
            </div>
        </div>

        <!-- Question Input Section -->
        <div class="question-input-section">
            <div class="input-container">
                <label for="questionInput" class="question-label">
                    <span class="label-text">Jūsu jautājums:</span>
                    <span class="label-help">Esiet konkrēti un fokusēti</span>
                </label>
                
                <div class="textarea-container">
                    <textarea
                        id="questionInput"
                        class="question-textarea"
                        placeholder="Piemēram: Kā uzlabot savas attiecības ar kolēģiem? Vai ir pareizais laiks sākt jaunu projektu? Kāda attieksme man jāieņem pret šo situāciju?"
                        aria-describedby="questionHelpText questionFeedbackList"
                        aria-required="true"
                        aria-label="Ierakstiet savu jautājumu I Ching"
                        maxlength="500"
                        rows="4"
                    ></textarea>
                    
                    <div class="textarea-footer">
                        <div class="character-counter">
                            <span id="questionCharCounter" class="char-count">0/500</span>
                        </div>
                        
                        <button 
                            type="button" 
                            id="questionClearBtn" 
                            class="clear-btn"
                            title="Notīrīt jautājumu (Escape)"
                            aria-label="Notīrīt jautājumu"
                        >
                            🗑️ Notīrīt
                        </button>
                    </div>
                </div>
                
                <div id="questionHelpText" class="help-text">
                    Minimums 10 rakstzīmes. Labākai atbildei: esiet konkrēti, fokusēti un pārdomāti.
                </div>
            </div>
        </div>

        <!-- Question Quality Analysis -->
        <div class="quality-analysis-section" id="questionAnalysisPanel">
            <div class="quality-header">
                <h3 class="analysis-title">📊 Jautājuma Kvalitātes Analīze</h3>
                <div class="quality-score-display">
                    <span class="score-label">Kvalitāte:</span>
                    <span id="questionQualityScore" class="score-value">0</span>
                    <span class="score-max">/100</span>
                </div>
            </div>
            
            <div class="quality-indicator-container">
                <div id="questionQualityIndicator" class="quality-indicator">
                    <!-- Quality indicator will be populated by JS -->
                </div>
            </div>
            
            <div class="feedback-section">
                <h4 class="feedback-title">💡 Ieteikumi uzlabošanai:</h4>
                <ul id="questionFeedbackList" class="feedback-list">
                    <!-- Feedback items will be populated by JS -->
                </ul>
				<!-- Suggestions Panel - JAUNS ELEMENTS -->
	<div id="questionSuggestions" class="suggestions-panel" style="display: none;">
    <h4 class="suggestions-title">💡 Ieteikumi uzlabošanai:</h4>
    <ul class="suggestions-list">
        <!-- Suggestions will be populated by JavaScript -->
    </ul>
	</div>
            </div>
        </div>

        <!-- Question Category and Examples -->
        <div class="category-section" id="categorySection">
            <div class="category-display-container">
                <h3 class="category-title">🏷️ Jautājuma Kategorija</h3>
                <div id="questionCategory" class="category-display">
                    <!-- Category info will be populated by JS -->
                </div>
            </div>
            
            <div class="examples-container">
                <h4 class="examples-title">💭 Piemēru jautājumi šai kategorijai:</h4>
                <p class="examples-help">Noklikšķiniet uz piemēru, lai to izmantotu kā sākuma punktu</p>
                <ul id="questionExamples" class="examples-list">
                    <!-- Example questions will be populated by JS -->
                </ul>
            </div>
        </div>

        <!-- Navigation and Actions -->
        <div class="question-actions">
            <div class="navigation-buttons">
                <button 
                    type="button" 
                    id="questionBackBtn" 
                    class="btn btn-secondary"
                    aria-label="Atgriezties pie metožu izvēles"
                >
                    <span class="btn-icon" aria-hidden="true">←</span>
                    <span class="btn-text">Metodes</span>
                </button>

                <div class="continue-container">
                    <button 
                        type="button" 
                        id="questionContinueBtn" 
                        class="btn btn-primary btn-disabled"
                        disabled
                        aria-describedby="questionHelpText"
                        aria-label="Turpināt uz pareģošanu"
                    >
                        <span class="btn-text">Turpināt</span>
                        <span class="btn-icon" aria-hidden="true">→</span>
                    </button>
                    
                    <div class="continue-help">
                        <span class="keyboard-shortcut">Ctrl+Enter</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div id="questionLoadingSpinner" class="loading-spinner" style="display: none;" aria-hidden="true">
            <div class="spinner-inner">❓</div>
            <span class="loading-text">Analizē jautājumu...</span>
        </div>

        <!-- Messages -->
        <div id="questionErrorMessage" class="question-message error" style="display: none;" role="alert" aria-live="assertive">
            <!-- Error messages will appear here -->
        </div>

        <!-- Accessibility -->
        <div id="questionAriaLive" aria-live="polite" aria-atomic="false" style="position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;">
            <!-- Live region for screen readers -->
        </div>
    </div>
</section>

<!-- Question Page Specific Styles -->
<style>
/* Question Page Layout */
.question-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.question-page .page-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    flex: 1;
}

/* Method Context */
.method-context {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    padding: 1rem 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.selected-method-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    justify-content: center;
    color: #e0e0e0;
}

.method-label {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
}

.method-name {
    color: #4CAF50;
    font-weight: 600;
    font-size: 1.1rem;
}

.method-icon {
    font-size: 1.5rem;
}

/* Question Input Section */
.question-input-section {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(255, 255, 255, 0.1);
}

.input-container {
    width: 100%;
}

.question-label {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-bottom: 1rem;
}

.label-text {
    color: #e0e0e0;
    font-size: 1.1rem;
    font-weight: 600;
}

.label-help {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
    font-style: italic;
}

.textarea-container {
    position: relative;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 2px solid rgba(255, 255, 255, 0.2);
    transition: border-color 0.3s ease;
    overflow: hidden;
}

.textarea-container:focus-within {
    border-color: #4CAF50;
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
}

.question-textarea {
    width: 100%;
    min-height: 120px;
    padding: 1.5rem;
    border: none;
    background: transparent;
    color: #ffffff;
    font-size: 1rem;
    line-height: 1.6;
    resize: vertical;
    font-family: inherit;
    outline: none;
}

.question-textarea::placeholder {
    color: rgba(255, 255, 255, 0.5);
    font-style: italic;
}

.textarea-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1.5rem;
    background: rgba(0, 0, 0, 0.2);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.character-counter {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.char-count {
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    font-weight: bold;
    color: #4CAF50;
}

.clear-btn {
    background: transparent;
    border: 1px solid rgba(255, 107, 107, 0.5);
    color: #ff6b6b;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.clear-btn:hover {
    background: rgba(255, 107, 107, 0.1);
    border-color: #ff6b6b;
}

.help-text {
    margin-top: 0.75rem;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    line-height: 1.4;
}

/* Quality Analysis Section */
.quality-analysis-section {
    background: rgba(76, 175, 80, 0.05);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(76, 175, 80, 0.2);
}

.quality-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.analysis-title {
    color: #4CAF50;
    margin: 0;
    font-size: 1.2rem;
}

.quality-score-display {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(0, 0, 0, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

.score-label {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
}

.score-value {
    color: #4CAF50;
    font-size: 1.5rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    min-width: 30px;
    text-align: center;
}

.score-max {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
}

.quality-indicator-container {
    margin-bottom: 1.5rem;
}

.quality-indicator {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

.quality-icon {
    font-size: 1.5rem;
}

.quality-message {
    font-size: 1rem;
    font-weight: 600;
}

.quality-indicator.excellent {
    background: rgba(76, 175, 80, 0.1);
    border-color: rgba(76, 175, 80, 0.5);
    color: #4CAF50;
}

.quality-indicator.good {
    background: rgba(139, 195, 74, 0.1);
    border-color: rgba(139, 195, 74, 0.5);
    color: #8BC34A;
}

.quality-indicator.average {
    background: rgba(255, 193, 7, 0.1);
    border-color: rgba(255, 193, 7, 0.5);
    color: #FFC107;
}

.quality-indicator.poor {
    background: rgba(255, 152, 0, 0.1);
    border-color: rgba(255, 152, 0, 0.5);
    color: #FF9800;
}

.quality-indicator.very-poor {
    background: rgba(244, 67, 54, 0.1);
    border-color: rgba(244, 67, 54, 0.5);
    color: #F44336;
}

/* Feedback Section */
.feedback-section {
    margin-top: 1.5rem;
}

.feedback-title {
    color: #4CAF50;
    margin: 0 0 1rem 0;
    font-size: 1.1rem;
}

.feedback-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.feedback-item {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 1rem;
    border-left: 3px solid #FFC107;
}

.feedback-issue {
    color: #FFC107;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.feedback-suggestion {
    color: #e0e0e0;
    font-size: 0.95rem;
    line-height: 1.4;
}

.feedback-positive {
    background: rgba(76, 175, 80, 0.1);
    border-left-color: #4CAF50;
    color: #4CAF50;
    font-weight: 600;
}

/* Category Section */
.category-section {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.category-title {
    color: #e0e0e0;
    margin: 0 0 1rem 0;
    font-size: 1.2rem;
}

.category-display {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 2rem;
}

.category-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.category-icon {
    font-size: 1.5rem;
}

.category-name {
    color: #FFD700;
    font-size: 1.1rem;
    font-weight: 600;
}

.category-advice {
    color: #e0e0e0;
    line-height: 1.5;
    font-style: italic;
}

/* Examples Section */
.examples-container {
    margin-top: 1.5rem;
}

.examples-title {
    color: #e0e0e0;
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
}

.examples-help {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
    margin: 0 0 1rem 0;
    font-style: italic;
}

.examples-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.example-item {
    background: rgba(255, 215, 0, 0.05);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 6px;
    padding: 0.75rem 1rem;
    color: #e0e0e0;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.95rem;
    line-height: 1.4;
}

.example-item:hover {
    background: rgba(255, 215, 0, 0.1);
    border-color: rgba(255, 215, 0, 0.4);
    transform: translateX(5px);
}

.example-item:active {
    background: rgba(255, 215, 0, 0.15);
}

/* Navigation and Actions */
.question-actions {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid rgba(255, 255, 255, 0.1);
}

.navigation-buttons {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

.continue-container {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 0.5rem;
}

.continue-help {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.keyboard-shortcut {
    color: rgba(255, 255, 255, 0.5);
    font-size: 0.8rem;
    background: rgba(255, 255, 255, 0.1);
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
}

/* Button Styles */
.btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    position: relative;
}

.btn-primary {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
}

.btn-primary:hover:not(:disabled) {
    background: linear-gradient(135deg, #45a049, #3d8b40);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
}

.btn-disabled {
    background: rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.4) !important;
    cursor: not-allowed !important;
    transform: none !important;
    box-shadow: none !important;
}

.btn:disabled {
    background: rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.4) !important;
    cursor: not-allowed !important;
    transform: none !important;
    box-shadow: none !important;
}

/* Loading Spinner */
.loading-spinner {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 2rem;
}

.spinner-inner {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent, #4CAF50);
    animation: spin 1s linear infinite;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading-text {
    color: rgba(255, 255, 255, 0.8);
    font-size: 1rem;
    font-weight: 600;
}

/* Messages */
.question-message {
    padding: 1rem 1.5rem;
    border-radius: 8px;
    margin: 1rem 0;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.question-message.error {
    background: rgba(244, 67, 54, 0.2);
    border: 1px solid rgba(244, 67, 54, 0.5);
    color: #ff6b6b;
}

.question-message.warning {
    background: rgba(255, 193, 7, 0.2);
    border: 1px solid rgba(255, 193, 7, 0.5);
    color: #FFC107;
}

.question-message.success {
    background: rgba(76, 175, 80, 0.2);
    border: 1px solid rgba(76, 175, 80, 0.5);
    color: #4CAF50;
}

.question-message.info {
    background: rgba(33, 150, 243, 0.2);
    border: 1px solid rgba(33, 150, 243, 0.5);
    color: #2196F3;
}

/* Responsive Design */
@media (max-width: 768px) {
    .question-page .page-container {
        padding: 1rem;
    }
    
    .quality-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .navigation-buttons {
        flex-direction: column;
        gap: 1rem;
    }
    
    .continue-container {
        align-items: center;
        width: 100%;
    }
    
    .btn {
        width: 100%;
        justify-content: center;
    }
    
    .method-context {
        text-align: center;
    }
    
    .selected-method-info {
        flex-wrap: wrap;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .question-input-section,
    .quality-analysis-section,
    .category-section {
        padding: 1rem;
    }
    
    .question-textarea {
        padding: 1rem;
        min-height: 100px;
    }
    
    .textarea-footer {
        padding: 0.5rem 1rem;
        flex-direction: column;
        gap: 0.5rem;
        align-items: stretch;
    }
    
    .character-counter {
        justify-content: center;
    }
}

/* Accessibility */
.btn:focus {
    outline: 2px solid #4CAF50;
    outline-offset: 2px;
}

.question-textarea:focus {
    outline: none;
}

.example-item:focus {
    outline: 2px solid #FFD700;
    outline-offset: 2px;
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .textarea-container {
        border: 2px solid white;
    }
    
    .quality-indicator,
    .feedback-item,
    .category-display,
    .example-item {
        border: 2px solid white;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .btn,
    .example-item,
    .textarea-container {
        transition: none !important;
    }
    
    .spinner-inner {
        animation: none !important;
    }
}

/* Print Styles */
@media print {
    .question-actions,
    .clear-btn,
    .keyboard-shortcut {
        display: none !important;
    }
    
    .question-page {
        background: white !important;
        color: black !important;
    }
}
</style>
</style>
            </section>

            <!-- Yarrow Simulation Page - Pilna HTML Struktūra -->
<section class="page yarrow-page" id="yarrowPage" aria-labelledby="yarrow-heading">
    <div class="page-container">
        <!-- Page Header -->
        <header class="page-header">
            <h2 id="yarrow-heading" class="page-title">🌾 Milleņu Stiebru Process</h2>
            <p class="page-description">
                Sakrāla tradicionālā metode, ko izmantoja senie ķīniešu gudrie. 
                Koncentrējieties uz savu jautājumu un sekojiet meditatīvajam procesam.
            </p>
        </header>

        <!-- Ceremonial Setup -->
        <div class="ceremony-setup" id="ceremonySetup">
            <div class="ceremonial-atmosphere">
                <div class="atmosphere-controls">
                    <h3>🕯️ Ceremonijas Atmosfēra</h3>
                    
                    <div class="atmosphere-options">
                        <label class="atmosphere-option">
                            <input type="checkbox" id="enableIncense" checked>
                            <span class="option-icon">🔥</span>
                            <span class="option-text">Kvēpināšanas efekts</span>
                        </label>
                        
                        <label class="atmosphere-option">
                            <input type="checkbox" id="enableBellSounds">
                            <span class="option-icon">🔔</span>
                            <span class="option-text">Ceremonijas skaņas</span>
                        </label>
                        
                        <label class="atmosphere-option">
                            <input type="checkbox" id="enableMeditation" checked>
                            <span class="option-icon">🧘</span>
                            <span class="option-text">Meditācijas vadība</span>
                        </label>
                    </div>
                </div>
                
                <div class="ceremony-timer">
                    <div class="timer-display">
                        <span class="timer-label">Ceremonijas laiks:</span>
                        <span id="ceremonyTime" class="timer-value">00:00</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Yarrow Process Section -->
        <div class="yarrow-process-section" id="yarrowProcessSection">
            <!-- Round Progress -->
            <div class="round-progress">
                <div class="round-indicator" id="yarrowRoundIndicator">
                    <span class="round-number">1</span>
                    <span class="round-total">/ 6</span>
                    <span class="round-label">līnija</span>
                </div>
                
                <div class="round-instruction" id="yarrowRoundInstruction">
                    Pirmā līnija (pamats): Koncentrējieties uz situācijas pamatu
                </div>
                
                <div class="yarrow-progress-bar">
                    <div class="progress-fill" id="yarrowProgressFill"></div>
                </div>
            </div>

            <!-- Yarrow Sticks Simulation -->
            <div class="yarrow-simulation" id="yarrowSimulation">
                <div class="yarrow-container">
                    <div class="yarrow-display">
                        <!-- Initial 50 sticks display -->
                        <div class="yarrow-pile main-pile" id="mainPile">
                            <div class="pile-label">Galvenā kaudze (50)</div>
                            <div class="sticks-visual" id="mainPileSticks">
                                <!-- 50 stiebri tiks vizuāli attēloti -->
                            </div>
                        </div>
                        
                        <!-- Working piles -->
                        <div class="working-area">
                            <div class="yarrow-pile left-pile" id="leftPile">
                                <div class="pile-label">Kreisā puse</div>
                                <div class="sticks-visual" id="leftPileSticks"></div>
                                <div class="pile-count" id="leftPileCount">0</div>
                            </div>
                            
                            <div class="sacred-area" id="sacredArea">
                                <div class="sacred-stick" id="sacredStick">
                                    <div class="sacred-label">Svētais stiebrs</div>
                                    <div class="sacred-visual">🌾</div>
                                </div>
                                
                                <div class="removed-sticks" id="removedSticks">
                                    <div class="removed-label">Noņemtie stiebri</div>
                                    <div class="removed-visual" id="removedSticksVisual"></div>
                                    <div class="removed-count" id="removedSticksCount">0</div>
                                </div>
                            </div>
                            
                            <div class="yarrow-pile right-pile" id="rightPile">
                                <div class="pile-label">Labā puse</div>
                                <div class="sticks-visual" id="rightPileSticks"></div>
                                <div class="pile-count" id="rightPileCount">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Process Steps Display -->
            <div class="process-steps" id="processSteps">
                <h3>📋 Procesu Soļi</h3>
                <div class="steps-container" id="stepsContainer">
                    <!-- Process steps will be populated here -->
                </div>
            </div>

            <!-- Current Operation -->
            <div class="current-operation" id="currentOperation">
                <div class="operation-title" id="operationTitle">Gatavojas sākt ceremoniju...</div>
                <div class="operation-description" id="operationDescription">
                    Nomierināties un koncentrējieties uz savu jautājumu
                </div>
                <div class="operation-calculation" id="operationCalculation" style="display: none;">
                    <!-- Mathematical details -->
                </div>
            </div>
        </div>

        <!-- Line Building Section -->
        <div class="line-building-section" id="lineBuildingSection">
            <h3>🔨 Heksagrammas Veidošana</h3>
            
            <div class="hexagram-building-area">
                <div class="hexagram-preview" id="yarrowHexagramPreview">
                    <!-- Hexagram lines will appear here as they're built -->
                </div>
                
                <div class="line-results-summary">
                    <div class="completed-lines" id="completedLines">
                        <!-- Summary of completed lines -->
                    </div>
                    
                    <div class="changing-lines-tracker" id="changingLinesTracker" style="display: none;">
                        <h4>🔄 Mainīgās Līnijas</h4>
                        <div class="changing-lines-list" id="yarrowChangingLinesList">
                            <!-- List of changing lines -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="yarrow-control-panel" id="yarrowControlPanel">
            <div class="main-controls">
                <!-- Primary Action Button -->
                <button 
                    type="button" 
                    id="yarrowActionButton" 
                    class="yarrow-action-btn primary"
                    aria-describedby="yarrowRoundInstruction"
                >
                    🌾 Sākt Ceremoniju
                </button>
                
                <!-- Secondary Controls -->
                <div class="secondary-controls">
                    <button 
                        type="button" 
                        id="yarrowPauseButton" 
                        class="control-btn pause-btn"
                        title="Pauzēt procesu"
                        style="display: none;"
                    >
                        ⏸️ Pauze
                    </button>
                    
                    <button 
                        type="button" 
                        id="yarrowSpeedButton" 
                        class="control-btn speed-btn"
                        title="Mainīt ātrumu"
                    >
                        ⚡ Normāls
                    </button>
                    
                    <button 
                        type="button" 
                        id="yarrowResetButton" 
                        class="control-btn reset-btn"
                        title="Sākt no jauna (Ctrl+R)"
                    >
                        🔄 Reset
                    </button>
                </div>
            </div>
            
            <!-- Process Settings -->
            <div class="process-settings">
                <div class="setting-group">
                    <label for="yarrowSpeedControl">Process ātrums:</label>
                    <select id="yarrowSpeedControl" class="speed-control">
                        <option value="meditation">Meditatīvs (lēns)</option>
                        <option value="normal" selected>Normāls</option>
                        <option value="quick">Ātrs</option>
                        <option value="instant">Momentāns</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="yarrowAnimationControl">Animāciju detaļas:</label>
                    <select id="yarrowAnimationControl" class="animation-control">
                        <option value="detailed" selected>Detalizētas</option>
                        <option value="simplified">Vienkāršas</option>
                        <option value="minimal">Minimālas</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="yarrowShowMath" class="math-toggle">
                        <span class="checkbox-custom"></span>
                        Rādīt aprēķinus
                    </label>
                </div>
                
                <div class="setting-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="yarrowShowSteps" class="steps-toggle" checked>
                        <span class="checkbox-custom"></span>
                        Rādīt soļus
                    </label>
                </div>
            </div>
        </div>

        <!-- Meditation Guidance -->
        <div class="meditation-guidance" id="meditationGuidance" style="display: none;">
            <div class="guidance-content">
                <h3>🧘 Meditācijas Vadība</h3>
                <div class="guidance-text" id="guidanceText">
                    Elpojiet dziļi un koncentrējieties uz savu jautājumu...
                </div>
                <div class="breathing-guide" id="breathingGuide">
                    <div class="breath-indicator" id="breathIndicator">
                        <div class="breath-circle"></div>
                        <div class="breath-text">Ieelpojiet...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Completion Results -->
        <div class="yarrow-completion" id="yarrowCompletionPanel" style="display: none;">
            <div class="completion-ceremony">
                <h2>🎯 Milleņu Ceremonija Pabeigta</h2>
                
                <div class="ceremony-summary">
                    <div class="summary-stats">
                        <div class="stat-item">
                            <span class="stat-label">Ceremonijas laiks:</span>
                            <span class="stat-value" id="totalCeremonyTime">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Kopējie dividendes:</span>
                            <span class="stat-value" id="totalDivisions">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Mainīgās līnijas:</span>
                            <span class="stat-value" id="totalChangingLines">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="final-hexagrams">
                    <div class="primary-result">
                        <h3>📜 Galvenā Heksagramma</h3>
                        <div class="hexagram-card" id="yarrowPrimaryHexagram">
                            <!-- Primary hexagram display -->
                        </div>
                    </div>
                    
                    <div class="secondary-result" id="yarrowSecondaryResult" style="display: none;">
                        <h3>🔄 Attīstības Heksagramma</h3>
                        <div class="hexagram-card secondary" id="yarrowSecondaryHexagram">
                            <!-- Secondary hexagram display -->
                        </div>
                    </div>
                </div>
				<!-- Papildu interpretācijas sadaļa -->
				<div id="selfQuestion" class="hexagram-extra-section" role="complementary"></div>
				<div id="pathReflection" class="hexagram-extra-section" role="complementary"></div>
				<div id="philosophy" class="hexagram-extra-section" role="complementary"></div>
				<div id="metaphor" class="hexagram-extra-section" role="complementary"></div>

                
                <div class="ceremony-blessing">
                    <p>🌟 Senā gudrība ir runājusi caur milleņu stiebriem...</p>
                    <p>Jūsu heksagramma ir gatava interpretācijai.</p>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="page-actions">
            <button 
                type="button" 
                id="yarrowBackBtn" 
                class="btn btn-secondary"
                aria-label="Atgriezties pie jautājuma"
            >
                <span class="btn-icon" aria-hidden="true">←</span>
                <span class="btn-text">Atpakaļ</span>
            </button>

            <button 
                type="button" 
                id="yarrowNextBtn" 
                class="btn btn-primary"
                style="display: none;"
                aria-label="Turpināt uz rezultātiem"
            >
                <span class="btn-text">Skatīt Rezultātus</span>
                <span class="btn-icon" aria-hidden="true">→</span>
            </button>
        </div>

        <!-- Error Display -->
        <div id="yarrowError" class="error-message" style="display: none;" role="alert" aria-live="assertive">
            <!-- Error messages -->
        </div>

        <!-- Accessibility -->
        <div id="yarrowAriaLive" aria-live="polite" aria-atomic="false" style="position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;">
            <!-- Live region for screen readers -->
        </div>
    </div>
</section>

<!-- Yarrow Page Specific Styles -->
<style>
/* Yarrow Page Layout */
.yarrow-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.yarrow-page .page-container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 2rem;
    flex: 1;
}

/* Ceremonial Setup */
.ceremony-setup {
    background: rgba(139, 195, 74, 0.05);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(139, 195, 74, 0.2);
}

.ceremonial-atmosphere {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.atmosphere-controls h3 {
    color: #8BC34A;
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.atmosphere-options {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.atmosphere-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(139, 195, 74, 0.1);
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid rgba(139, 195, 74, 0.3);
}

.atmosphere-option:hover {
    background: rgba(139, 195, 74, 0.2);
}

.atmosphere-option input[type="checkbox"] {
    display: none;
}

.atmosphere-option input[type="checkbox"]:checked + .option-icon {
    filter: brightness(1.3);
}

.option-icon {
    font-size: 1.2rem;
    transition: filter 0.3s ease;
}

.option-text {
    color: #e0e0e0;
    font-size: 0.9rem;
    font-weight: 600;
}

.ceremony-timer {
    text-align: right;
}

.timer-display {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 0.25rem;
}

.timer-label {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
}

.timer-value {
    color: #8BC34A;
    font-size: 1.5rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

/* Yarrow Process Section */
.yarrow-process-section {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.round-progress {
    text-align: center;
    margin-bottom: 2rem;
}

.round-indicator {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.3rem;
    font-weight: bold;
    color: #8BC34A;
    margin-bottom: 1rem;
}

.round-number {
    font-size: 2.5rem;
    color: #4CAF50;
}

.round-total, .round-label {
    color: rgba(255, 255, 255, 0.7);
}

.round-instruction {
    color: #e0e0e0;
    font-style: italic;
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

.yarrow-progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #8BC34A, #4CAF50);
    width: 0%;
    transition: width 0.5s ease;
}

/* Yarrow Simulation */
.yarrow-simulation {
    background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(76, 175, 80, 0.05));
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(139, 195, 74, 0.2);
    position: relative;
    overflow: hidden;
}

.yarrow-simulation::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, rgba(139, 195, 74, 0.1) 0%, transparent 70%);
    pointer-events: none;
}

.yarrow-container {
    position: relative;
    z-index: 1;
}

.yarrow-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
}

.yarrow-pile {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 12px;
    padding: 1rem;
    border: 1px solid rgba(139, 195, 74, 0.3);
    text-align: center;
    min-width: 120px;
}

.main-pile {
    background: rgba(139, 195, 74, 0.1);
    border: 2px solid rgba(139, 195, 74, 0.4);
    padding: 1.5rem;
    min-width: 200px;
}

.pile-label {
    color: #8BC34A;
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.75rem;
}

.sticks-visual {
    min-height: 60px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 2px;
    margin-bottom: 0.5rem;
}

.stick-visual {
    width: 2px;
    height: 20px;
    background: linear-gradient(to bottom, #8BC34A, #689F38);
    border-radius: 1px;
    animation: stickAppear 0.3s ease;
}

@keyframes stickAppear {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.pile-count {
    color: #4CAF50;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
}

.working-area {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: 1.5rem;
    align-items: center;
    width: 100%;
    max-width: 800px;
}

.sacred-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    background: rgba(255, 215, 0, 0.05);
    border: 2px dashed rgba(255, 215, 0, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
}

.sacred-stick {
    text-align: center;
}

.sacred-label {
    color: #FFD700;
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.sacred-visual {
    font-size: 2rem;
    color: #FFD700;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.removed-sticks {
    text-align: center;
}

.removed-label {
    color: #FFA500;
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.removed-visual {
    min-height: 40px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 1px;
    margin-bottom: 0.5rem;
}

.removed-stick {
    width: 1px;
    height: 12px;
    background: #FFA500;
    border-radius: 0.5px;
}

.removed-count {
    color: #FFA500;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

/* Process Steps */
.process-steps {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.process-steps h3 {
    color: #e0e0e0;
    margin-bottom: 1rem;
    text-align: center;
}

.steps-container {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.process-step {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    border-radius: 6px;
    transition: all 0.3s ease;
}

.process-step.completed {
    background: rgba(76, 175, 80, 0.1);
    border-left: 3px solid #4CAF50;
}

.process-step.current {
    background: rgba(255, 193, 7, 0.1);
    border-left: 3px solid #FFC107;
}

.process-step.pending {
    background: rgba(255, 255, 255, 0.05);
    border-left: 3px solid rgba(255, 255, 255, 0.2);
}

.step-number {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.9rem;
}

.process-step.completed .step-number {
    background: #4CAF50;
    color: white;
}

.process-step.current .step-number {
    background: #FFC107;
    color: black;
}

.process-step.pending .step-number {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.5);
}

.step-description {
    flex: 1;
    color: #e0e0e0;
}

.step-result {
    color: #4CAF50;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

/* Current Operation */
.current-operation {
    background: rgba(76, 175, 80, 0.1);
    border: 1px solid rgba(76, 175, 80, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    text-align: center;
}

.operation-title {
    color: #4CAF50;
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 0.75rem;
}

.operation-description {
    color: #e0e0e0;
    margin-bottom: 1rem;
    line-height: 1.5;
}

.operation-calculation {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    padding: 1rem;
    font-family: 'Courier New', monospace;
    color: #FFD700;
    margin-top: 1rem;
}

/* Line Building */
.line-building-section {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.line-building-section h3 {
    color: #e0e0e0;
    margin-bottom: 1.5rem;
    text-align: center;
}

.hexagram-building-area {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
}

.hexagram-preview {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 215, 0, 0.2);
    min-height: 200px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    gap: 8px;
}

.yarrow-hexagram-line {
    width: 100%;
    height: 12px;
    border-radius: 6px;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.5s ease;
}

.yarrow-hexagram-line.appear {
    opacity: 1;
    transform: translateY(0);
}

.yarrow-hexagram-line.yang {
    background: linear-gradient(90deg, #8BC34A, #4CAF50);
    box-shadow: 0 0 8px rgba(139, 195, 74, 0.4);
}

.yarrow-hexagram-line.yin {
    background: linear-gradient(90deg, #8BC34A 0%, #8BC34A 35%, transparent 35%, transparent 65%, #8BC34A 65%, #8BC34A 100%);
}

.yarrow-hexagram-line.changing {
    animation: yarrowChangingPulse 2s ease-in-out infinite;
}

@keyframes yarrowChangingPulse {
    0%, 100% {
        box-shadow: 0 0 8px rgba(139, 195, 74, 0.4);
    }
    50% {
        box-shadow: 0 0 16px rgba(255, 152, 0, 0.8);
        transform: scale(1.02);
    }
}

.line-results-summary {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.completed-lines {
    background: rgba(76, 175, 80, 0.1);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

.changing-lines-tracker {
    background: rgba(255, 152, 0, 0.1);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(255, 152, 0, 0.3);
}

.changing-lines-tracker h4 {
    color: #FFA500;
    margin: 0 0 0.75rem 0;
}

/* Control Panel */
.yarrow-control-panel {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.main-controls {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.yarrow-action-btn {
    padding: 1rem 2.5rem;
    border: none;
    border-radius: 25px;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    min-width: 250px;
    background: linear-gradient(135deg, #8BC34A, #4CAF50);
    color: white;
    box-shadow: 0 4px 15px rgba(139, 195, 74, 0.3);
}

.yarrow-action-btn:hover {
    background: linear-gradient(135deg, #4CAF50, #388E3C);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(139, 195, 74, 0.5);
}

.yarrow-action-btn:disabled {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.4);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.secondary-controls {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
}

.control-btn {
    padding: 0.5rem 1rem;
    border: 2px solid;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    background: transparent;
}

.pause-btn {
    border-color: #FFC107;
    color: #FFC107;
}

.pause-btn:hover {
    background: rgba(255, 193, 7, 0.1);
}

.speed-btn {
    border-color: #2196F3;
    color: #2196F3;
}

.speed-btn:hover {
    background: rgba(33, 150, 243, 0.1);
}

.reset-btn {
    border-color: #ff6b6b;
    color: #ff6b6b;
}

.reset-btn:hover {
    background: rgba(255, 107, 107, 0.1);
}

/* Process Settings */
.process-settings {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.setting-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.setting-group label {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 600;
}

.speed-control, .animation-control {
    padding: 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    background: rgba(0, 0, 0, 0.3);
    color: white;
    font-size: 0.9rem;
}

.checkbox-label {
    display: flex !important;
    flex-direction: row !important;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
}

.checkbox-custom {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    position: relative;
    transition: all 0.3s ease;
}

input[type="checkbox"]:checked + .checkbox-custom {
    background: #8BC34A;
    border-color: #8BC34A;
}

input[type="checkbox"]:checked + .checkbox-custom::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
}

input[type="checkbox"] {
    display: none;
}

/* Meditation Guidance */
.meditation-guidance {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid rgba(139, 195, 74, 0.5);
    border-radius: 15px;
    padding: 2rem;
    z-index: 1000;
    text-align: center;
    max-width: 400px;
    width: 90%;
}

.guidance-content h3 {
    color: #8BC34A;
    margin-bottom: 1rem;
}

.guidance-text {
    color: #e0e0e0;
    margin-bottom: 2rem;
    line-height: 1.6;
}

.breathing-guide {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.breath-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.breath-circle {
    width: 80px;
    height: 80px;
    border: 3px solid #8BC34A;
    border-radius: 50%;
    animation: breathe 4s ease-in-out infinite;
}

@keyframes breathe {
    0%, 100% {
        transform: scale(1);
        opacity: 0.7;
    }
    50% {
        transform: scale(1.2);
        opacity: 1;
    }
}

.breath-text {
    color: #8BC34A;
    font-size: 1.1rem;
    font-weight: 600;
}

/* Completion */
.yarrow-completion {
    background: rgba(139, 195, 74, 0.05);
    border: 2px solid rgba(139, 195, 74, 0.3);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    text-align: center;
}

.completion-ceremony h2 {
    color: #8BC34A;
    margin-bottom: 2rem;
    font-size: 2rem;
}

.ceremony-summary {
    margin: 2rem 0;
}

.summary-stats {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 1rem;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 120px;
}

.stat-label {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 0.5rem;
}

.stat-value {
    font-size: 1.2rem;
    font-weight: bold;
    color: #8BC34A;
}

.final-hexagrams {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.hexagram-card {
    background: rgba(139, 195, 74, 0.1);
    border: 2px solid rgba(139, 195, 74, 0.3);
    border-radius: 15px;
    padding: 1.5rem;
    text-align: center;
    min-width: 200px;
}

.hexagram-card.secondary {
    border-color: rgba(255, 152, 0, 0.5);
    background: rgba(255, 152, 0, 0.1);
}

.ceremony-blessing {
    color: #e0e0e0;
    font-style: italic;
    margin-top: 2rem;
    line-height: 1.6;
}

/* Error Message */
.error-message {
    background: rgba(244, 67, 54, 0.2);
    border: 1px solid rgba(244, 67, 54, 0.5);
    color: #ff6b6b;
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1rem;
    font-weight: 600;
}

/* Responsive Design */
@media (max-width: 768px) {
    .yarrow-page .page-container {
        padding: 1rem;
    }
    
    .ceremonial-atmosphere {
        flex-direction: column;
        text-align: center;
    }
    
    .working-area {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .hexagram-building-area {
        grid-template-columns: 1fr;
    }
    
    .process-settings {
        grid-template-columns: 1fr;
    }
    
    .secondary-controls {
        flex-direction: column;
        align-items: center;
    }
    
    .final-hexagrams {
        flex-direction: column;
        align-items: center;
    }
}

@media (max-width: 480px) {
    .atmosphere-options {
        flex-direction: column;
        align-items: center;
    }
    
    .yarrow-action-btn {
        min-width: 200px;
        font-size: 1rem;
    }
    
    .summary-stats {
        flex-direction: column;
        align-items: center;
    }
}

/* Accessibility */
.yarrow-action-btn:focus,
.control-btn:focus {
    outline: 2px solid #8BC34A;
    outline-offset: 2px;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .stick-visual,
    .yarrow-hexagram-line,
    .breath-circle {
        animation: none !important;
        transition: none !important;
    }
}

/* Print Styles */
@media print {
    .yarrow-control-panel,
    .page-actions {
        display: none !important;
    }
}
</style>

            <!-- Coins Simulation Page - Pilna HTML Struktūra -->
<section class="page coins-page" id="coinsPage" aria-labelledby="coins-heading">
    <div class="page-container">
        <!-- Page Header -->
        <header class="page-header">
            <h2 id="coins-heading" class="page-title">🪙 Monētu Metīšanas Process</h2>
            <p class="page-description">
                Met trīs monētas sešas reizes, lai izveidotu heksagrammu. 
                Katra meta rezultāts veidos vienu līniju jūsu heksagrammā.
            </p>
        </header>

        <!-- Progress Section -->
        <div class="coins-progress-section">
            <div class="round-info">
                <div class="round-indicator" id="coinsRoundIndicator">
                    <span class="round-number">1</span>
                    <span class="round-total">/ 6</span>
                    <span class="round-label">līnija</span>
                </div>
                <div class="instruction-text" id="coinsInstructionText">
                    Pirmā līnija (pamats): Situācijas sākums un pamatojums
                </div>
            </div>
            
            <div class="status-display" id="coinsStatus">
                Gatavs 1. līnijai (1/6)
            </div>
        </div>

        <!-- Coins Area -->
        <div class="coins-area" id="coinsArea">
            <div class="coins-container">
                <div class="coin" id="coin1" data-coin-id="1" data-state="neutral" role="img" aria-label="Monēta 1: Gatava metīšanai">
                    <div class="coin-face">
                        <span class="coin-symbol">🪙</span>
                    </div>
                </div>
                
                <div class="coin" id="coin2" data-coin-id="2" data-state="neutral" role="img" aria-label="Monēta 2: Gatava metīšanai">
                    <div class="coin-face">
                        <span class="coin-symbol">🪙</span>
                    </div>
                </div>
                
                <div class="coin" id="coin3" data-coin-id="3" data-state="neutral" role="img" aria-label="Monēta 3: Gatava metīšanai">
                    <div class="coin-face">
                        <span class="coin-symbol">🪙</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Throw Results -->
        <div class="throw-results" id="coinsThrowResults">
            <div class="current-throw-info">
                <div class="sum-display">
                    <span class="sum-label">Summa:</span>
                    <span class="sum-value" id="coinsCurrentSum">-</span>
                </div>
                
                <div class="line-value-display">
                    <span class="line-label">Līnijas vērtība:</span>
                    <span class="line-value" id="coinsCurrentLineValue"></span>
                </div>
            </div>
            
            <div class="line-description" id="coinsLineDescription">
                <!-- Līnijas apraksts tiks parādīts šeit -->
            </div>
            
            <div class="math-details" id="coinsMathDetails" style="display: none;">
                <!-- Matemātikas detaļas -->
            </div>
        </div>

        <!-- Hexagram Building Area -->
        <div class="hexagram-building">
            <div class="hexagram-preview">
                <h3>Heksagrammas veidošana</h3>
                <div class="hexagram-display" id="coinsHexagramDisplay">
                    <!-- Heksagrammas līnijas parādīsies šeit -->
                </div>
                
                <div class="line-preview" id="coinsLinePreview">
                    <!-- Līniju priekšskatījums -->
                </div>
            </div>
            
            <div class="changing-lines-info" id="coinsChangingLinesDisplay" style="display: none;">
                <h4>🔄 Mainīgās līnijas</h4>
                <p>Atrastās mainīgās līnijas radīs otro heksagrammu</p>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="coins-control-panel" id="coinsControlPanel">
            <div class="main-controls">
                <button 
                    type="button" 
                    id="coinsThrowButton" 
                    class="coins-throw-btn primary"
                    aria-describedby="coinsInstructionText"
                >
                    🎲 Met Monētas
                </button>
                
                <div class="secondary-controls">
                    <button 
                        type="button" 
                        id="coinsAutoButton" 
                        class="auto-btn inactive"
                        aria-pressed="false"
                        title="Ieslēgt automātisko virzību uz nākamo līniju"
                    >
                        ⏸️ Auto: OFF
                    </button>
                    
                    <button 
                        type="button" 
                        id="coinsResetButton" 
                        class="reset-btn"
                        title="Sākt no jauna (Ctrl+R)"
                    >
                        🔄 Reset
                    </button>
                </div>
            </div>
            
            <!-- Settings -->
            <div class="coins-settings">
                <div class="setting-group">
                    <label for="coinsSpeedControl">Animācijas ātrums:</label>
                    <select id="coinsSpeedControl" class="speed-control">
                        <option value="slow">Lēns</option>
                        <option value="normal" selected>Normāls</option>
                        <option value="fast">Ātrs</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="coinsStyleControl">Monētu stils:</label>
                    <select id="coinsStyleControl" class="style-control">
                        <option value="traditional" selected>Tradicionāls</option>
                        <option value="modern">Moderns</option>
                        <option value="animated">Animēts</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="coinsSoundToggle" class="sound-toggle">
                        <span class="checkbox-custom"></span>
                        Skaņas efekti
                    </label>
                </div>
                
                <div class="setting-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="coinsShowMath" class="math-toggle">
                        <span class="checkbox-custom"></span>
                        Rādīt matemātiku
                    </label>
                </div>
            </div>
        </div>

        <!-- Completion Results -->
        <div class="completion-results" id="coinsResultsPanel" style="display: none;">
            <div class="completion-message" id="coinsCompletionMessage">
                <!-- Completion ceremony būs šeit -->
            </div>
            
            <div class="final-hexagrams">
                <div class="primary-hexagram" id="coinsPrimaryHexagram">
                    <!-- Galvenā heksagramma -->
                </div>
                
                <div class="secondary-hexagram" id="coinsSecondaryHexagram" style="display: none;">
                    <!-- Otrā heksagramma (ja ir mainīgās līnijas) -->
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="page-actions">
            <button 
                type="button" 
                id="coinsBackBtn" 
                class="btn btn-secondary"
                aria-label="Atgriezties pie jautājuma"
            >
                <span class="btn-icon" aria-hidden="true">←</span>
                <span class="btn-text">Atpakaļ</span>
            </button>

            <button 
                type="button" 
                id="coinsNextBtn" 
                class="btn btn-primary"
                style="display: none;"
                aria-label="Turpināt uz rezultātiem"
            >
                <span class="btn-text">Skatīt Rezultātus</span>
                <span class="btn-icon" aria-hidden="true">→</span>
            </button>
        </div>

        <!-- Error Display -->
        <div id="coinsError" class="error-message" style="display: none;" role="alert" aria-live="assertive">
            <!-- Kļūdu ziņojumi -->
        </div>

        <!-- Accessibility -->
        <div id="coinsAriaLive" aria-live="polite" aria-atomic="false" style="position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;">
            <!-- Live region for screen readers -->
        </div>
    </div>
</section>

<!-- Coins Page Specific Styles -->
<style>
/* Coins Page Layout */
.coins-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.coins-page .page-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 2rem;
    flex: 1;
}

/* Progress Section */
.coins-progress-section {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.round-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.round-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.2rem;
    font-weight: bold;
    color: #FFD700;
}

.round-number {
    font-size: 2rem;
    color: #4CAF50;
}

.round-total, .round-label {
    color: rgba(255, 255, 255, 0.7);
}

.instruction-text {
    color: #e0e0e0;
    font-size: 1rem;
    font-style: italic;
    max-width: 400px;
    text-align: right;
}

.status-display {
    background: rgba(76, 175, 80, 0.1);
    color: #4CAF50;
    padding: 0.75rem 1rem;
    border-radius: 6px;
    font-weight: 600;
    text-align: center;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

/* Coins Area */
.coins-area {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(16, 16, 35, 0.9));
    border-radius: 20px;
    padding: 3rem 2rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(255, 215, 0, 0.2);
    position: relative;
    overflow: hidden;
}

.coins-area::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
    pointer-events: none;
}

.coins-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    position: relative;
    z-index: 1;
}

.coin {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    transform-style: preserve-3d;
    background: linear-gradient(45deg, #DAA520, #B8860B);
    color: #2C1810;
    box-shadow: 0 4px 12px rgba(218, 165, 32, 0.4);
    border: 3px solid rgba(255, 215, 0, 0.3);
}

.coin:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 20px rgba(218, 165, 32, 0.6);
}

.coin-face {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.coin-symbol {
    font-size: 2rem;
    line-height: 1;
}

/* Throw Results */
.throw-results {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.current-throw-info {
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.sum-display, .line-value-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.sum-label, .line-label {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.sum-value {
    font-size: 2rem;
    font-weight: bold;
    color: #FFD700;
    font-family: 'Courier New', monospace;
}

.line-value {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.5rem;
}

.line-number {
    font-weight: bold;
    color: #4CAF50;
}

.line-symbol {
    font-size: 1.8rem;
    color: #FFD700;
}

.line-description {
    background: rgba(76, 175, 80, 0.1);
    border: 1px solid rgba(76, 175, 80, 0.3);
    border-radius: 8px;
    padding: 1rem;
    color: #e0e0e0;
}

.line-description h4 {
    color: #4CAF50;
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
}

.line-description p {
    margin: 0.5rem 0;
    line-height: 1.5;
}

.change-info {
    color: #FFA500 !important;
    font-weight: bold;
    margin-top: 0.5rem !important;
}

/* Hexagram Building */
.hexagram-building {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.06);
}

.hexagram-preview h3 {
    color: #e0e0e0;
    margin: 0 0 1rem 0;
    text-align: center;
    font-size: 1.2rem;
}

.hexagram-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    margin-bottom: 1.5rem;
    min-height: 200px;
    justify-content: flex-end;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(255, 215, 0, 0.2);
}

.hexagram-line {
    width: 80px;
    height: 8px;
    border-radius: 4px;
    transition: all 0.3s ease;
    opacity: 0;
    transform: translateX(-20px);
}

.hexagram-line.line-appear {
    opacity: 1;
    transform: translateX(0);
}

.line-preview {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 6px;
    border: 1px dashed rgba(255, 255, 255, 0.2);
}

.preview-line {
    width: 40px;
    height: 4px;
    border-radius: 2px;
    background: rgba(255, 215, 0, 0.3);
    transition: all 0.3s ease;
}

.changing-lines-info {
    background: rgba(255, 152, 0, 0.1);
    border: 1px solid rgba(255, 152, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
}

.changing-lines-info h4 {
    color: #FFA500;
    margin: 0 0 0.5rem 0;
}

/* Control Panel */
.coins-control-panel {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.main-controls {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.coins-throw-btn {
    padding: 1rem 2rem;
    border: none;
    border-radius: 25px;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    min-width: 200px;
}

.secondary-controls {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
}

.auto-btn, .reset-btn {
    padding: 0.5rem 1rem;
    border: 2px solid;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    background: transparent;
}

.auto-btn.active {
    border-color: #4CAF50;
    color: #4CAF50;
}

.auto-btn.inactive {
    border-color: #ccc;
    color: #ccc;
}

.reset-btn {
    border-color: #ff6b6b;
    color: #ff6b6b;
}

.reset-btn:hover {
    background: rgba(255, 107, 107, 0.1);
}

/* Settings */
.coins-settings {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.setting-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.setting-group label {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 600;
}

.speed-control, .style-control {
    padding: 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    background: rgba(0, 0, 0, 0.3);
    color: white;
    font-size: 0.9rem;
}

.checkbox-label {
    display: flex !important;
    flex-direction: row !important;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
}

.checkbox-custom {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    position: relative;
    transition: all 0.3s ease;
}

input[type="checkbox"]:checked + .checkbox-custom {
    background: #4CAF50;
    border-color: #4CAF50;
}

input[type="checkbox"]:checked + .checkbox-custom::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
}

input[type="checkbox"] {
    display: none;
}

/* Completion Results */
.completion-results {
    background: rgba(255, 215, 0, 0.05);
    border: 2px solid rgba(255, 215, 0, 0.2);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    text-align: center;
}

/* Error Message */
.error-message {
    background: rgba(244, 67, 54, 0.2);
    border: 1px solid rgba(244, 67, 54, 0.5);
    color: #ff6b6b;
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1rem;
    font-weight: 600;
}

/* Responsive Design */
@media (max-width: 768px) {
    .coins-container {
        gap: 1rem;
    }
    
    .coin {
        width: 60px;
        height: 60px;
    }
    
    .coin-symbol {
        font-size: 1.5rem;
    }
    
    .current-throw-info {
        flex-direction: column;
        gap: 1rem;
    }
    
    .round-info {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .instruction-text {
        text-align: center;
        max-width: none;
    }
    
    .coins-settings {
        grid-template-columns: 1fr;
    }
    
    .secondary-controls {
        flex-direction: column;
        align-items: center;
    }
}

@media (max-width: 480px) {
    .coins-page .page-container {
        padding: 1rem;
    }
    
    .coin {
        width: 50px;
        height: 50px;
    }
    
    .coin-symbol {
        font-size: 1.2rem;
    }
    
    .coins-throw-btn {
        min-width: 150px;
        padding: 0.8rem 1.5rem;
        font-size: 1rem;
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    .coin,
    .hexagram-line,
    .coins-throw-btn {
        animation: none !important;
        transition: none !important;
    }
}

.coins-throw-btn:focus,
.auto-btn:focus,
.reset-btn:focus {
    outline: 2px solid #4CAF50;
    outline-offset: 2px;
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .coin {
        border: 3px solid white;
    }
    
    .hexagram-line {
        border: 1px solid white;
    }
}
</style>

            <!-- Result Page - Pilna HTML Struktūra -->
<section class="page result-page" id="resultPage" aria-labelledby="result-heading">
    <div class="page-container">
        <!-- Page Header -->
        <header class="page-header">
            <h2 id="result-heading" class="page-title">🎯 Jūsu I Ching Pareģojums</h2>
            <p class="page-description" id="resultPageDescription">
                Senā gudrība ir runājusi. Izpētiet savu heksagrammu un tās nozīmi.
            </p>
        </header>

        <!-- Results Overview -->
        <div class="results-overview" id="resultsOverview">
            <!-- Method and Question Info -->
            <div class="divination-context">
                <div class="context-item">
                    <span class="context-label">Metode:</span>
                    <span class="context-value" id="resultMethod">-</span>
                </div>
                <div class="context-item">
                    <span class="context-label">Jautājums:</span>
                    <span class="context-value" id="resultQuestion">-</span>
                </div>
                <div class="context-item">
                    <span class="context-label">Laiks:</span>
                    <span class="context-value" id="resultTimestamp">-</span>
                </div>
            </div>

        <!-- Primary Hexagram Section -->
        <div class="hexagram-section primary-section" id="primaryHexagramSection">
            <div class="hexagram-container">
                <div class="hexagram-visual">
                    <h3 class="hexagram-title">📜 Galvenā Heksagramma</h3>
                    
                    <!-- Hexagram Display -->
                    <div class="hexagram-display-area">
                        <div class="hexagram-lines-visual" id="primaryHexagramLines">
                            <!-- Heksagrammas līnijas tiks ģenerētas šeit -->
                        </div>
                        
                        <div class="hexagram-info">
                            <div class="hexagram-number" id="primaryHexagramNumber">#?</div>
                            <div class="hexagram-chinese" id="primaryHexagramChinese">?</div>
                            <div class="hexagram-name" id="primaryHexagramName">Nezināms</div>
                            <div class="hexagram-meaning" id="primaryHexagramMeaning"></div>
                        </div>
                    </div>
                </div>

                <!-- Hexagram Interpretation -->
                <div class="hexagram-interpretation">
                    <div class="interpretation-tabs">
                        <button class="tab-button active" data-tab="meaning">Nozīme</button>
                        <button class="tab-button" data-tab="judgment">Spriedums</button>
                        <button class="tab-button" data-tab="image">Tēls</button>
                        <button class="tab-button" data-tab="lines">Līnijas</button>
                    </div>

                    <div class="interpretation-content">
                        <div class="tab-content active" data-tab-content="meaning">
                            <h4>Galvenā Nozīme</h4>
                            <div class="meaning-content" id="primaryMeaning">
                                <!-- Galvenā nozīme -->
                            </div>
                        </div>

                        <div class="tab-content" data-tab-content="judgment">
                            <h4>Spriedums (判辞)</h4>
                            <div class="judgment-content" id="primaryJudgment">
                                <!-- Spriedums -->
                            </div>
                        </div>

                        <div class="tab-content" data-tab-content="image">
                            <h4>Tēls (象辞)</h4>
                            <div class="image-content" id="primaryImage">
                                <!-- Tēls -->
                            </div>
                        </div>

                        <div class="tab-content" data-tab-content="lines">
                            <h4>Līniju Interpretācijas</h4>
                            <div class="lines-content" id="primaryLines">
                                <!-- Līniju interpretācijas -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secondary Hexagram Section (only if changing lines exist) -->
        <div class="hexagram-section secondary-section" id="secondaryHexagramSection" style="display: none;">
            <div class="hexagram-container">
                <div class="hexagram-visual">
                    <h3 class="hexagram-title">🔄 Attīstības Heksagramma</h3>
                    
                    <div class="changing-lines-info">
                        <h4>Mainīgās līnijas:</h4>
                        <div class="changing-lines-list" id="changingLinesList">
                            <!-- Mainīgo līniju saraksts -->
                        </div>
                    </div>
                    
                    <!-- Secondary Hexagram Display -->
                    <div class="hexagram-display-area">
                        <div class="hexagram-lines-visual" id="secondaryHexagramLines">
                            <!-- Sekundārās heksagrammas līnijas -->
                        </div>
                        
                        <div class="hexagram-info">
                            <div class="hexagram-number" id="primaryHexagramNumber">#?</div>
                            <div class="hexagram-chinese" id="primaryHexagramChinese">?</div>
                            <div class="hexagram-name" id="primaryHexagramName">Nezināms</div>
                            <div class="hexagram-meaning" id="primaryHexagramMeaning"></div>
                        </div>
                    </div>
                </div>

                <!-- Secondary Interpretation -->
                <div class="hexagram-interpretation">
                    <div class="interpretation-tabs">
                        <button class="tab-button active" data-tab="secondary-meaning">Nozīme</button>
                        <button class="tab-button" data-tab="secondary-relationship">Saistība</button>
                        <button class="tab-button" data-tab="secondary-timing">Laiks</button>
                    </div>

                    <div class="interpretation-content">
                        <div class="tab-content active" data-tab-content="secondary-meaning">
                            <h4>Attīstības Virziens</h4>
                            <div class="meaning-content" id="secondaryMeaning">
                                <!-- Sekundārā heksagramma nozīme -->
                            </div>
                        </div>

                        <div class="tab-content" data-tab-content="secondary-relationship">
                            <h4>Saistība ar Galveno</h4>
                            <div class="relationship-content" id="secondaryRelationship">
                                <!-- Attiecības starp heksagrammām -->
                            </div>
                        </div>

                        <div class="tab-content" data-tab-content="secondary-timing">
                            <h4>Laika Aspekts</h4>
                            <div class="timing-content" id="secondaryTiming">
                                <!-- Laika interpretācija -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Practical Guidance Section -->
        <div class="guidance-section" id="guidanceSection">
            <h3 class="guidance-title">💡 Praktisks Padoms</h3>
            
            <div class="guidance-cards">
                <div class="guidance-card current-situation">
                    <h4>🎯 Pašreizējā Situācija</h4>
                    <div class="guidance-content" id="currentSituationGuidance">
                        <!-- Pašreizējās situācijas analīze -->
                    </div>
                </div>

                <div class="guidance-card recommended-action">
                    <h4>🚀 Ieteicamā Rīcība</h4>
                    <div class="guidance-content" id="recommendedActionGuidance">
                        <!-- Ieteicamā rīcība -->
                    </div>
                </div>

                <div class="guidance-card things-to-avoid">
                    <h4>⚠️ Ko Izvairīties</h4>
                    <div class="guidance-content" id="thingsToAvoidGuidance">
                        <!-- Ko izvairīties -->
                    </div>
                </div>

                <div class="guidance-card timing-advice" id="timingAdviceCard" style="display: none;">
                    <h4>⏰ Laika Izvēle</h4>
                    <div class="guidance-content" id="timingAdviceGuidance">
                        <!-- Laika padoms -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Personal Reflection Section -->
        <div class="reflection-section" id="reflectionSection">
            <h3 class="reflection-title">🤔 Personiskā Refleksija</h3>
            
            <div class="reflection-questions">
                <h4>Jautājumi pārdomām:</h4>
                <ul class="questions-list" id="reflectionQuestionsList">
                    <!-- Refleksijas jautājumi tiks ģenerēti -->
                </ul>
            </div>

            <div class="notes-area">
                <h4>Jūsu piezīmes:</h4>
                <textarea 
                    id="personalNotes" 
                    class="notes-textarea" 
                    placeholder="Ierakstiet savas domas, atziņas un interpretācijas šeit..."
                    aria-label="Personiskās piezīmes par pareģojumu"
                ></textarea>
                <button id="saveNotesBtn" class="save-notes-btn">💾 Saglabāt Piezīmes</button>
            </div>
        </div>

        <!-- Export and Share Section -->
        <div class="export-section" id="exportSection">
            <h3 class="export-title">📤 Dalīšanās un Eksports</h3>
            
            <div class="export-options">
                <button id="exportPdfBtn" class="export-btn">
                    <span class="btn-icon">📄</span>
                    <span class="btn-text">Eksportēt PDF</span>
                </button>

                <button id="exportTextBtn" class="export-btn">
                    <span class="btn-icon">📝</span>
                    <span class="btn-text">Saglabāt kā Tekstu</span>
                </button>

                <button id="shareResultsBtn" class="export-btn">
                    <span class="btn-icon">🔗</span>
                    <span class="btn-text">Dalīties ar Saiti</span>
                </button>

                <button id="emailResultsBtn" class="export-btn">
                    <span class="btn-icon">✉️</span>
                    <span class="btn-text">Nosūtīt E-pastā</span>
                </button>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="page-actions">
            <button 
                type="button" 
                id="newDivinationBtn" 
                class="btn btn-secondary"
                aria-label="Sākt jaunu pareģošanu"
            >
                <span class="btn-icon" aria-hidden="true">🔄</span>
                <span class="btn-text">Jauns Pareģojums</span>
            </button>

            <div class="action-group">
                <button 
                    type="button" 
                    id="saveResultsBtn" 
                    class="btn btn-outline"
                    aria-label="Saglabāt rezultātus"
                >
                    <span class="btn-icon" aria-hidden="true">💾</span>
                    <span class="btn-text">Saglabāt</span>
                </button>

                <button 
                    type="button" 
                    id="printResultsBtn" 
                    class="btn btn-primary"
                    aria-label="Drukāt rezultātus"
                >
                    <span class="btn-icon" aria-hidden="true">🖨️</span>
                    <span class="btn-text">Drukāt</span>
                </button>
            </div>
        </div>

        <!-- Loading State -->
        <div id="resultLoadingSpinner" class="loading-spinner" style="display: none;" aria-hidden="true">
            <div class="spinner-inner">☯</div>
            <span class="loading-text">Interpretē rezultātus...</span>
        </div>

        <!-- Error Display -->
        <div id="resultErrorMessage" class="result-message error" style="display: none;" role="alert" aria-live="assertive">
            <!-- Kļūdu ziņojumi -->
        </div>

        <!-- Success Message -->
        <div id="resultSuccessMessage" class="result-message success" style="display: none;" role="status" aria-live="polite">
            <!-- Veiksmes ziņojumi -->
        </div>
    </div>
	<!-- Accessibility -->
        <div id="resultsAriaLive" aria-live="polite" aria-atomic="false" style="position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;">
            <!-- Live region for screen readers -->
        </div>
</section>

<!-- Result Page Specific Styles -->
<style>
/* Result Page Layout */
.result-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.result-page .page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    flex: 1;
}

/* Results Overview */
.results-overview {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.divination-context {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.context-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.context-label {
    font-weight: 600;
    color: #FFD700;
    min-width: 80px;
}

.context-value {
    color: #e0e0e0;
    flex: 1;
    word-break: break-word;
}

/* Hexagram Sections */
.hexagram-section {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(255, 215, 0, 0.2);
}

.primary-section {
    border-color: rgba(255, 215, 0, 0.3);
    background: rgba(255, 215, 0, 0.02);
}

.secondary-section {
    border-color: rgba(255, 152, 0, 0.3);
    background: rgba(255, 152, 0, 0.02);
}

.hexagram-container {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
    align-items: start;
}

/* Hexagram Visual */
.hexagram-visual {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.hexagram-title {
    color: #FFD700;
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 1.3rem;
}

.hexagram-display-area {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 215, 0, 0.3);
    width: 100%;
    max-width: 300px;
}

.hexagram-lines-visual {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 1.5rem;
}

.hexagram-line-result {
    height: 12px;
    border-radius: 6px;
    position: relative;
    transition: all 0.3s ease;
}

.hexagram-line-result.yang {
    background: linear-gradient(90deg, #FFD700, #FFED4E);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
}

.hexagram-line-result.yin {
    background: linear-gradient(90deg, #FFD700 0%, #FFD700 35%, transparent 35%, transparent 65%, #FFD700 65%, #FFD700 100%);
}

.hexagram-line-result.changing {
    animation: changingLinePulse 2s ease-in-out infinite;
    position: relative;
}

.hexagram-line-result.changing::after {
    content: '🔄';
    position: absolute;
    right: -30px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8rem;
}

@keyframes changingLinePulse {
    0%, 100% {
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
    }
    50% {
        box-shadow: 0 0 20px rgba(255, 100, 0, 0.8);
        transform: scale(1.02);
    }
}

.hexagram-info {
    text-align: center;
}

.hexagram-number {
    font-size: 1.2rem;
    color: #4CAF50;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.hexagram-chinese {
    font-size: 3rem;
    color: #FFD700;
    font-weight: bold;
    margin: 0.5rem 0;
    font-family: serif;
}

.hexagram-name {
    font-size: 1.3rem;
    color: #e0e0e0;
    font-weight: 600;
    line-height: 1.3;
}

/* Changing Lines Info */
.changing-lines-info {
    background: rgba(255, 152, 0, 0.1);
    border: 1px solid rgba(255, 152, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1.5rem;
}

.changing-lines-info h4 {
    color: #FFA500;
    margin: 0 0 0.75rem 0;
    font-size: 1.1rem;
}

.changing-lines-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.changing-line-item {
    background: rgba(255, 152, 0, 0.2);
    color: #FFA500;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: bold;
}

/* Interpretation Tabs */
.interpretation-tabs {
    display: flex;
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 1.5rem;
    gap: 1rem;
}

.tab-button {
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    padding: 0.75rem 1rem;
    cursor: pointer;
    font-weight: 600;
    border-bottom: 2px solid transparent;
    transition: all 0.3s ease;
}

.tab-button.active {
    color: #FFD700;
    border-bottom-color: #FFD700;
}

.tab-button:hover {
    color: #e0e0e0;
}

.tab-content {
    display: none;
    animation: fadeIn 0.3s ease;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.tab-content h4 {
    color: #4CAF50;
    margin: 0 0 1rem 0;
    font-size: 1.2rem;
}

.tab-content p {
    color: #e0e0e0;
    line-height: 1.6;
    margin-bottom: 1rem;
}

.tab-content .highlight {
    color: #FFD700;
    font-weight: bold;
}

/* Guidance Section */
.guidance-section {
    background: rgba(76, 175, 80, 0.05);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(76, 175, 80, 0.2);
}

.guidance-title {
    color: #4CAF50;
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 1.4rem;
}

.guidance-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
}

.guidance-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.3s ease;
}

.guidance-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.guidance-card h4 {
    color: #4CAF50;
    margin: 0 0 1rem 0;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.guidance-content {
    color: #e0e0e0;
    line-height: 1.5;
}

/* Reflection Section */
.reflection-section {
    background: rgba(102, 126, 234, 0.05);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 2px solid rgba(102, 126, 234, 0.2);
}

.reflection-title {
    color: #667eea;
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 1.4rem;
}

.reflection-questions {
    margin-bottom: 2rem;
}

.reflection-questions h4 {
    color: #667eea;
    margin-bottom: 1rem;
}

.questions-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.questions-list li {
    background: rgba(102, 126, 234, 0.1);
    padding: 0.75rem 1rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
    border-left: 3px solid #667eea;
    color: #e0e0e0;
}

.notes-area h4 {
    color: #667eea;
    margin-bottom: 1rem;
}

.notes-textarea {
    width: 100%;
    min-height: 120px;
    padding: 1rem;
    border: 2px solid rgba(102, 126, 234, 0.3);
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.3);
    color: #ffffff;
    font-size: 1rem;
    line-height: 1.5;
    resize: vertical;
    transition: border-color 0.3s ease;
    font-family: inherit;
}

.notes-textarea:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.notes-textarea::placeholder {
    color: rgba(255, 255, 255, 0.5);
    font-style: italic;
}

.save-notes-btn {
    margin-top: 1rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.save-notes-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

/* Export Section */
.export-section {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.export-title {
    color: #e0e0e0;
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 1.3rem;
}

.export-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.export-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    background: rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
}

.export-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
}

.export-btn .btn-icon {
    font-size: 1.2rem;
}

/* Loading and Messages */
.loading-spinner {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 3rem;
}

.spinner-inner {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent, #FFD700);
    animation: spin 1s linear infinite;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading-text {
    color: rgba(255, 255, 255, 0.8);
    font-size: 1.1rem;
    font-weight: 600;
}

.result-message {
    padding: 1rem 1.5rem;
    border-radius: 8px;
    margin: 1rem 0;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.result-message.error {
    background: rgba(244, 67, 54, 0.2);
    border: 1px solid rgba(244, 67, 54, 0.5);
    color: #ff6b6b;
}

.result-message.success {
    background: rgba(76, 175, 80, 0.2);
    border: 1px solid rgba(76, 175, 80, 0.5);
    color: #4CAF50;
}

/* Action Buttons */
.page-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid rgba(255, 255, 255, 0.1);
}

.action-group {
    display: flex;
    gap: 1rem;
}

.btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
}

.btn-primary {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
}

.btn-primary:hover {
    background: linear-gradient(135deg, #45a049, #3d8b40);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
}

.btn-outline {
    background: transparent;
    color: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-outline:hover {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.9);
    border-color: rgba(255, 255, 255, 0.5);
}

/* Responsive Design */
@media (max-width: 768px) {
    .result-page .page-container {
        padding: 1rem;
    }
    
    .hexagram-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .hexagram-display-area {
        max-width: none;
    }
    
    .guidance-cards {
        grid-template-columns: 1fr;
    }
    
    .export-options {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .page-actions {
        flex-direction: column;
        gap: 1rem;
    }
    
    .action-group {
        width: 100%;
        justify-content: center;
    }
    
    .interpretation-tabs {
        flex-wrap: wrap;
    }
    
    .tab-button {
        padding: 0.5rem 0.75rem;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .export-options {
        grid-template-columns: 1fr;
    }
    
    .divination-context {
        grid-template-columns: 1fr;
    }
    
    .hexagram-chinese {
        font-size: 2.5rem;
    }
    
    .guidance-section,
    .reflection-section,
    .export-section {
        padding: 1.5rem;
    }
}

/* Accessibility */
.btn:focus {
    outline: 2px solid #4CAF50;
    outline-offset: 2px;
}

.tab-button:focus {
    outline: 2px solid #FFD700;
    outline-offset: 2px;
}

.notes-textarea:focus {
    outline: none;
}

/* Print Styles */
@media print {
    .page-actions,
    .export-section,
    .save-notes-btn {
        display: none !important;
    }
    
    .result-page {
        background: white !important;
        color: black !important;
    }
    
    .hexagram-section,
    .guidance-section,
    .reflection-section {
        background: white !important;
        border: 1px solid #ccc !important;
        break-inside: avoid;
    }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .hexagram-line-result {
        border: 2px solid white;
    }
    
    .guidance-card,
    .result-message {
        border: 2px solid white;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .hexagram-line-result,
    .btn,
    .tab-content {
        animation: none !important;
        transition: none !important;
    }
}
</style>
<!-- ============================= -->
<!-- RESULTS PAGE (I Ching Results) -->
<section class="page result-page" id="resultsPage" style="display: none;">
    <div id="results-main">
        <!-- Šeit JS ieliks rezultātu kartes, heksagrammas, interpretācijas utt. -->
    </div>
</section>
<!-- ============================= -->

        </main>

        <!-- Application Footer -->
        <footer class="app-footer" role="contentinfo">
            <div class="footer-content">
                <p class="footer-text">
                    Izveidots ar cieņu pret <strong>3000 gadu seno gudrību</strong> • 
                    <span class="mobile-optimized">📱 Mobilajām ierīcēm optimizēts</span>
                </p>
                <div class="footer-ornament" aria-hidden="true">☯</div>
            </div>
        </footer>

    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" aria-hidden="true">
        <div class="loading-spinner">
            <div class="spinner-inner">☯</div>
        </div>
        <p class="loading-text">Ielādē seno gudrību...</p>
    </div>

    <!-- Error Boundary -->
    <div class="error-boundary" id="errorBoundary" style="display: none;" role="alert">
        <h2>Radās neparedzēta kļūda</h2>
        <p>Lūdzu, pārlādējiet lapu un mēģiniet vēlreiz.</p>
        <button onclick="location.reload()" class="retry-button">Mēģināt vēlreiz</button>
    </div>

   <script src="hexagrams.js" defer></script>
<script src="methods.js" defer></script>
<script src="question.js" defer></script>
<script src="yarrow.js" defer></script>
<script src="coins.js" defer></script>
<script src="results.js" defer></script>  
<script src="app.js" defer></script>

    <!-- Service Worker Registration (for PWA capabilities) -->
    <script>
        
        // Handle offline/online status
        window.addEventListener('online', function() {
            document.body.classList.remove('offline');
        });
        
        window.addEventListener('offline', function() {
            document.body.classList.add('offline');
        });

        // Basic error handling
        window.addEventListener('error', function(e) {
            console.error('Global error:', e.error);
            document.getElementById('errorBoundary').style.display = 'block';
        });

        // Accessibility: keyboard navigation for method cards
        function handleCardKeydown(event, method) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                selectMethod(method);
            }
        }

        // Basic app initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading overlay
            document.getElementById('loadingOverlay').style.display = 'none';
            
            // Initialize app
            if (typeof initializeApp === 'function') {
                initializeApp();
            }
            
            console.log('🌟 I Ching aplikācija ielādēta veiksmīgi!');
        });
    </script>

    <!-- Analytics (placeholder) -->
    <!-- 
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    -->

</body>
</html>


